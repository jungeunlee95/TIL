# Unix 기초

http://coffeenix.net/doc/misc/wsu-linux.pdf 

~ 8페이지

### 구조

- 커널
  - 유닉스 시스템 구성의 기초를 이루는 핵심 부분으로서 소위 OS라고 불리는 부분이다. 하드웨어와 사용자 프로그램의 중간에 위치하며 CPU, 메모리, 하드 디스크등의 하드웨어 자원을 제어하면서, 프로세스 스케쥴링, 기억장치 관리, 파일 관리, 시스템 호출 인터페이스, Operator 콘솔 및 인터페이스 기능 멀티 프로그래밍 지원,파일 시스템 서비스, 입출력 서비스 등의 기능을 사용자에게 제공한다. 명령을 해석하는 커맨드 인터프리터(interpreter)는 커널에 내장되어 있지 않으며 다른 사용자 프로그램과 똑같은 애플리케이션(application) 프로그램으로 독립되어 있다. 



- 쉘

  - 사용자가 입력한 명령을 해석하고 실행하는 커맨드 인터프리터로서, 명령행의 해석, 바꿔 놓기, 입출력의 방향 변환 변수의 전개등을 한다. 쉘은 사용자와 커널간의 주고 받기를 하지만 다른 커맨드와 똑같은 실행 가능한 파일의 하나이며 커널 속에 내장되어있는 것은 아니다. AT&T 버전, Berkley 버전 모두 본(Bourne) 쉘이표준으로 제공되고 있다. Bourne-쉘과 Korn-쉘의 기본 프롬트는 $이고 C-쉘의 기본 프롬트는 %이다. 시스템 관리자(super user)의 프롬프트는 #이다. 대표적인 쉘은 다음과 같다. 

     ```
  sh : Stephen Bourne 이 만든 쉘로 모든 시스템에 들어있는 Bourne-쉘이다.
  csh : sh 보다 기능이 보강되었으며 Bill Joy 가 만든 C-쉘이다.
  ksh : sh 보다 기능이 보강되었으며 David Korn 이 만든 Korn쉘이다.
  bash: 기본적으로 들어 있지는 않고 소스를 구해서 자신의시스템에 컴파일 하여야 하지만 위의 3 개와 비교할 때 가장편리한 쉘이라고 할 수 있다.(linux 에는 기본 탑재) 
     ```

- 파일 시스템

  - 유틸리티(utility), 애플리케이션(application) 및 데이터(data)를 저장하고 있다. 파일 시스템은 계층 구조로서 일반적인 트리 구조를 갖는다. 



---

### 디렉토리 구조

디렉토리는 다른 파일들과 디렉토리에 관한 정보를 저장하는논리적인 영역이다. 디렉토리는 특수한 형태의 데이터 파일로써 원하는 데이터를 자유롭게 읽을 수는 있지만 일반 사용자가 디렉토리를 수정하는 것은 불가능하다. 유닉스 시스템에서 가장 상위의 디렉토리는 유닉스 운영체제가 위치하고 있는 루트 디렉토리, 즉 /로 표현된다. 루트 디렉토리 아래에는 특수 파일 및 일반 파일들이 위치한다.
`/bin` : 시스템 구동 실행 파일들이 위치한다.
`/dev` : 시스템의 모든 입출력 파일을 가지고 있다.
`/etc `: 시스템 설정 파일, 프로그램, 유틸리티등이 있다.
`/home` : 사용자의 홈 디렉토리이다.
`/lib` : 공유 라이브러리가 위치한다.
`/usr` : 실제 작업을 위한 응용 패키지들이 설치되어 있다. 



---

### 쉘의 종류 확인

자신의 현재 사용하는 쉘의 종류를 확인하려면 다음과 같이 입력한다. 그러면 쉘의 종류와 쉘의 구동 위치를 볼 수 있다. 

```
$ echo $SHELL
/bin/bash
% echo $SHELL
/bin/csh
```



---

### 간단한 유닉스 명령어

- **Who**

현재 시스템을 사용중인 사람을 확인하고 싶을 때 사용한다. whoami 는 현재 로그인한 사용자 ID 를 출력하고, 자세한 사용자 정보는 who am i 와 같이 띄어쓰기를 하여 입력하면 된다. 

```
cyber:~$who
root :0 Apr 19 13:01
root pts/1 Apr 19 13:01
root pts/2 Apr 19 14:57
root pts/0 Apr 19 13:13
yoonyc pts/3 Apr 19 17:44 (203.237.211.165)
cyber:~$whoami
yoonyc
cyber:~$who am i
yoonyc pts/3 Apr 19 17:44 (203.237.211.165)
```



- **bc**

  간단한 계산기

```
cyber:~$bc
bc 1.06
Copyright 1991-1994, 1997, 1998, 2000 Free Software Foundation, Inc.
3+8 Å 엔터.
11 Å 계산 결과.
cyber:~$ Å [control] + d 를 누르면 계산기를 빠져 나온다. 
```



- **env**

현재 설정된 환경변수를 보여준다



---

### 명령어 모드

 vi 편집기에서 'esc' 키를 한 번 누르면 입력 상태에서 명령어 모드로 변환이 된다. 명령어 모드에서는 다음과 같은 명령어들을 사용할 수 있다. 

`l` 커서를 오른 쪽으로 이동
`h` 커서를 왼쪽으로 이동
`j` 커서를 아래로 이동
`k` 커서를 위로 이동
`[control] + f` Page Down
`[control] + b` Page Up
`H` 화면의 첫 라인 첫 컬럼으로 이동
`M` 화면의 중간 라인 첫 컬럼으로 이동
`L` 화면의 끝 라인 첫 컬럼으로 이동
`w` 오른쪽 단어로 이동
`b` 왼쪽 단어로 이동
`^` 현재 라인의 첫 문자로 이동
`$` 현재 라인의 마지막 문자로 이동
`a` 커서 뒤에 입력
`i` 커서 앞에 삽입
`r` 커서 위치의 문자를 다른 문자로 수정
`u` 바로 전에 행한 한번의 명령을 취소
`U` 현재 라인에서 했던 모든 명령을 취소
`cw` 현재 커서에 있는 단어를 수정
`cc` 현재 커서에 있는 라인을 모두 수정
`dw` 커서 위치에서 오른쪽 방향으로 한 단어를 삭제
`db` 커서 위치에서 왼쪽 방향으로 한 단어를 삭제
`dd` 커서가 위치한 현재 라인을 삭제
`/문자열` 문자열을 순 방향으로 검색
`?문자열` 문자열을 역 방향으로 검색
`yy` 현재의 라인을 버퍼에 복사
`p` 현재 커서의 오른쪽 또는 아래 라인에 버퍼내용 붙이기



---

### 파일과 디렉토리 명령어

- **ls**  

디렉토리 안의 내용을 열람 ,  ls -al 을 하면 좀더 자세한 정보를 보여 준다. 

-R 은 서브디렉토리의 내용까지 출력 
-t 은 시간 순서로 정렬
-F 은 디렉토리, 실행파일, 텍스트 파일을 구분하여 나열



- **cat**

  - 파일의 내용을 보는 명령  .bashrc 의 내용을 보고 싶다면 `cat .bashrc` 이라고 입력한다. 

  - cat 명령은 파일들을 합치는 데도 이용할 수 있다. 

    `cat fileA fileB > fileC` ==> fileA 와 fileB 를 합쳐서 fileC 를 만든다. 만일 fileC 가 원래 있었다면 fileC 의 원래 내용은 삭제 됨

    ` cat fileA >> fileB` ==> fileB 의 원래 내용 밑에 fileA 의 내용을 추가한다. 여기서 >는 출력, >>는 덧붙임, <는 입력을 의미 한다. 

- pwd 

  현재 디렉토리의 위치를 알려줌

  

- cd

  디렉토리를 변경

- mkdir 새로운 디렉토리

- rmdir 디렉토리 삭제

- mv파일 이동 : `mv fileA fileB`  fileA 는 사라지고 fileA 가 fileB 로 바뀐다. 

- cp 파일 복사 : `cp fileA fileB `  fileA 는 그대로 남고 fileA 가 fileB 로 복사

  ​			`cp -r dirA dirB `  -r 은 하위 디렉토리의 파일을 같이 복사 한다. 

- rm 파일 삭제 : `rm -r dirA`    -r 은 하위 디렉토리의 파일을 같이 삭제 한다. 

  ​			 `rm -i dirA`  확인 절차 추가, 삭제할 파일 제시하고 사용자에게 확인하게 함

- 링크 : 

 